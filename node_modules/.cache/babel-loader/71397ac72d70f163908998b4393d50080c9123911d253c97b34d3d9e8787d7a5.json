{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayush\\\\OneDrive\\\\Desktop\\\\Job Scheduler\\\\src\\\\components\\\\GanttChart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GanttChart = ({\n  data,\n  width = 800,\n  height = 200\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  useEffect(() => {\n    if (!data.length || !svgRef.current) return;\n\n    // Clear previous chart\n    d3.select(svgRef.current).selectAll('*').remove();\n    const margin = {\n      top: 20,\n      right: 50,\n      bottom: 40,\n      left: 60\n    };\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    const svg = d3.select(svgRef.current).attr('width', width).attr('height', height);\n    const chart = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Create scales with padding\n    const timeScale = d3.scaleLinear().domain([0, d3.max(data, d => d.endTime) || 0]).range([0, chartWidth]).nice(); // Round to nice numbers\n\n    const uniqueProcessIds = Array.from(new Set(data.map(d => d.processId)));\n    const processScale = d3.scaleBand().domain(uniqueProcessIds).range([0, chartHeight]).padding(0.3); // Increase padding between bars\n\n    // Add grid lines\n    chart.append('g').attr('class', 'grid').attr('opacity', 0.1).attr('transform', `translate(0,${chartHeight})`).call(d3.axisBottom(timeScale).tickSize(-chartHeight).tickFormat(() => ''));\n\n    // Add axes with improved styling\n    const xAxis = d3.axisBottom(timeScale).tickFormat(d => d.toString()).ticks(10);\n    const yAxis = d3.axisLeft(processScale);\n    chart.append('g').attr('class', 'x-axis').attr('transform', `translate(0,${chartHeight})`).call(xAxis).append('text').attr('class', 'axis-label').attr('x', chartWidth / 2).attr('y', 35).attr('fill', 'black').style('text-anchor', 'middle').style('font-size', '12px').text('Time Units');\n    chart.append('g').attr('class', 'y-axis').call(yAxis).append('text').attr('class', 'axis-label').attr('transform', 'rotate(-90)').attr('x', -chartHeight / 2).attr('y', -45).attr('fill', 'black').style('text-anchor', 'middle').style('font-size', '12px').text('Process ID');\n\n    // Add Gantt blocks with animations\n    const blocks = chart.selectAll('rect').data(data).enter().append('rect').attr('x', d => timeScale(d.startTime)).attr('y', d => processScale(d.processId) || 0).attr('width', 0) // Start with width 0 for animation\n    .attr('height', processScale.bandwidth()).attr('fill', d => d.color).attr('rx', 4).attr('ry', 4).style('filter', 'drop-shadow(2px 2px 2px rgba(0,0,0,0.1))');\n\n    // Animate blocks\n    blocks.transition().duration(750).attr('width', d => timeScale(d.endTime) - timeScale(d.startTime));\n\n    // Add tooltips with more information\n    blocks.append('title').text(d => {\n      return `Process: ${d.processId}\nStart Time: ${d.startTime}\nEnd Time: ${d.endTime}\nDuration: ${d.endTime - d.startTime}`;\n    });\n\n    // Add time labels with better positioning and contrast\n    const labels = chart.selectAll('.time-label').data(data).enter().append('text').attr('class', 'time-label').attr('x', d => timeScale(d.startTime) + (timeScale(d.endTime) - timeScale(d.startTime)) / 2).attr('y', d => (processScale(d.processId) || 0) + processScale.bandwidth() / 2).attr('dy', '0.35em').attr('text-anchor', 'middle').style('fill', 'white').style('font-size', '11px').style('font-weight', 'bold').style('pointer-events', 'none').style('text-shadow', '1px 1px 1px rgba(0,0,0,0.3)').text(d => d.endTime - d.startTime);\n\n    // Fade in labels\n    labels.style('opacity', 0).transition().delay(750) // Wait for blocks animation\n    .duration(500).style('opacity', 1);\n  }, [data, width, height]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overflow-x-auto shadow-lg rounded-lg bg-white p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      className: \"gantt-chart w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 9\n  }, this);\n};\n_s(GanttChart, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = GanttChart;\nexport default GanttChart;\nvar _c;\n$RefreshReg$(_c, \"GanttChart\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","GanttChart","data","width","height","_s","svgRef","length","current","select","selectAll","remove","margin","top","right","bottom","left","chartWidth","chartHeight","svg","attr","chart","append","timeScale","scaleLinear","domain","max","d","endTime","range","nice","uniqueProcessIds","Array","from","Set","map","processId","processScale","scaleBand","padding","call","axisBottom","tickSize","tickFormat","xAxis","toString","ticks","yAxis","axisLeft","style","text","blocks","enter","startTime","bandwidth","color","transition","duration","labels","delay","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ayush/OneDrive/Desktop/Job Scheduler/src/components/GanttChart.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { Selection } from 'd3';\nimport { GanttChartBlock } from '../utils/types';\n\ntype D3Selection = Selection<any, any, any, any>;\n\ninterface GanttChartProps {\n    data: GanttChartBlock[];\n    width?: number;\n    height?: number;\n}\n\nconst GanttChart: React.FC<GanttChartProps> = ({ data, width = 800, height = 200 }) => {\n    const svgRef = useRef<SVGSVGElement>(null);\n\n    useEffect(() => {\n        if (!data.length || !svgRef.current) return;\n\n        // Clear previous chart\n        d3.select(svgRef.current).selectAll('*').remove();\n\n        const margin = { top: 20, right: 50, bottom: 40, left: 60 };\n        const chartWidth = width - margin.left - margin.right;\n        const chartHeight = height - margin.top - margin.bottom;\n\n        const svg = d3.select(svgRef.current)\n            .attr('width', width)\n            .attr('height', height);\n\n        const chart = svg.append('g')\n            .attr('transform', `translate(${margin.left},${margin.top})`);\n\n        // Create scales with padding\n        const timeScale = d3.scaleLinear()\n            .domain([0, d3.max(data, d => d.endTime) || 0])\n            .range([0, chartWidth])\n            .nice(); // Round to nice numbers\n\n        const uniqueProcessIds = Array.from(new Set(data.map(d => d.processId)));\n        const processScale = d3.scaleBand()\n            .domain(uniqueProcessIds)\n            .range([0, chartHeight])\n            .padding(0.3); // Increase padding between bars\n\n        // Add grid lines\n        chart.append('g')\n            .attr('class', 'grid')\n            .attr('opacity', 0.1)\n            .attr('transform', `translate(0,${chartHeight})`)\n            .call(\n                d3.axisBottom(timeScale)\n                    .tickSize(-chartHeight)\n                    .tickFormat(() => '')\n            );\n\n        // Add axes with improved styling\n        const xAxis = d3.axisBottom(timeScale)\n            .tickFormat(d => d.toString())\n            .ticks(10);\n\n        const yAxis = d3.axisLeft(processScale);\n\n        chart.append('g')\n            .attr('class', 'x-axis')\n            .attr('transform', `translate(0,${chartHeight})`)\n            .call(xAxis)\n            .append('text')\n            .attr('class', 'axis-label')\n            .attr('x', chartWidth / 2)\n            .attr('y', 35)\n            .attr('fill', 'black')\n            .style('text-anchor', 'middle')\n            .style('font-size', '12px')\n            .text('Time Units');\n\n        chart.append('g')\n            .attr('class', 'y-axis')\n            .call(yAxis)\n            .append('text')\n            .attr('class', 'axis-label')\n            .attr('transform', 'rotate(-90)')\n            .attr('x', -chartHeight / 2)\n            .attr('y', -45)\n            .attr('fill', 'black')\n            .style('text-anchor', 'middle')\n            .style('font-size', '12px')\n            .text('Process ID');\n\n        // Add Gantt blocks with animations\n        const blocks = chart.selectAll('rect')\n            .data(data)\n            .enter()\n            .append('rect')\n            .attr('x', (d: GanttChartBlock) => timeScale(d.startTime))\n            .attr('y', (d: GanttChartBlock) => processScale(d.processId) || 0)\n            .attr('width', 0) // Start with width 0 for animation\n            .attr('height', processScale.bandwidth())\n            .attr('fill', (d: GanttChartBlock) => d.color)\n            .attr('rx', 4)\n            .attr('ry', 4)\n            .style('filter', 'drop-shadow(2px 2px 2px rgba(0,0,0,0.1))');\n\n        // Animate blocks\n        blocks.transition()\n            .duration(750)\n            .attr('width', (d: GanttChartBlock) => timeScale(d.endTime) - timeScale(d.startTime));\n\n        // Add tooltips with more information\n        blocks.append('title')\n            .text((d: GanttChartBlock) => {\n                return `Process: ${d.processId}\nStart Time: ${d.startTime}\nEnd Time: ${d.endTime}\nDuration: ${d.endTime - d.startTime}`;\n            });\n\n        // Add time labels with better positioning and contrast\n        const labels = chart.selectAll('.time-label')\n            .data(data)\n            .enter()\n            .append('text')\n            .attr('class', 'time-label')\n            .attr('x', (d: GanttChartBlock) => timeScale(d.startTime) + (timeScale(d.endTime) - timeScale(d.startTime)) / 2)\n            .attr('y', (d: GanttChartBlock) => (processScale(d.processId) || 0) + processScale.bandwidth() / 2)\n            .attr('dy', '0.35em')\n            .attr('text-anchor', 'middle')\n            .style('fill', 'white')\n            .style('font-size', '11px')\n            .style('font-weight', 'bold')\n            .style('pointer-events', 'none')\n            .style('text-shadow', '1px 1px 1px rgba(0,0,0,0.3)')\n            .text((d: GanttChartBlock) => d.endTime - d.startTime);\n\n        // Fade in labels\n        labels.style('opacity', 0)\n            .transition()\n            .delay(750) // Wait for blocks animation\n            .duration(500)\n            .style('opacity', 1);\n\n    }, [data, width, height]);\n\n    return (\n        <div className=\"overflow-x-auto shadow-lg rounded-lg bg-white p-4\">\n            <svg ref={svgRef} className=\"gantt-chart w-full\"></svg>\n        </div>\n    );\n};\n\nexport default GanttChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}